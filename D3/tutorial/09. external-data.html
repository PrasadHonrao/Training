<!DOCTYPE html>
<html lang="en">

<head>
    <title>d3 - external data</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="css/style.css" rel="stylesheet">
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
</head>

<body>
    <script>
        // add svg
        var svg = d3.select('body')
            .append('svg')
            .attr('width', 500)
            .attr('height', 500);

        d3.json('data\\people.json', (response) => {
            console.log(response);
            svg.selectAll("rect").data(response)
                .enter()
                .append("rect")
                .attr("width", d => d.age * 10)
                .attr("height", 40)
                .attr("y", (d, i) => i * 50)
                .attr("fill", "blue")
            
            // add text to the bars
            svg.selectAll("text")
                .data(response)
                .enter()
                .append("text")
                .attr("fill", "white")
                .attr("y", (d, i) => i * 50 + 24) // 24 is just to align text based on bar height
                .text( d => d.name)
        });
    </script>
</body>

</html>